dp[y][x] = map[y][x] - map[y - 1][x] - map[y][x - 1] + map[y - 1][x - 1] 이 공식을 이용하면 사각형 (x1, y1) ~ (x2, y2)가 있다면 (x1, y1)은 1, (x1, y2 + 1)는 -1, (x2 + 1, y1)는 -1, (x2 + 1, y2 + 1)는 1이 생기고 나머지는 모두 0입니다. 사각형이 이렇게 overlap된 것은 이런 값들이 합과 동일합니다. 보통 여러 개의 사각형을 overlap할 때 사각형을 일일히 filling 하기 보다는 이 점들에 값을 합하고 이를 나중에 mem[y][x] = mem[y - 1][x] + mem[y][x - 1] - mem[y - 1][x - 1] + dp[y][x] 로 구하는데 이 문제는 이것의 역인 경우입니다. 이 값들을 계산하고 dp[y1][x1] > 0, dp[y1][x2] < 0, dp[y2][x1] < 0, dp[y2][x2] > 0 인 지점을 계산해서 x2 - x1 == y2 - y1인 경우를 counting해도 어느 정도 나오고 여기서 사각형이 unique한 경우만 삭제해서 정사각형인 경우를 찾으면 더 좋은 점수를 얻을 수 있습니다.
